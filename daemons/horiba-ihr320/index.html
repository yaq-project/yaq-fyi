<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" name="viewport" content="width=80ch">
  <title>horiba-ihr320</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<h1>
<a href=../../>yaq</a>/<a href=../>daemons</a>/horiba-ihr320
</h1>

<hr>

Horiba Jobin-Yvon Micro-Hr monochromator.


<h2 id='external links'>external links<a href='#external links'> ¶</a></h2>
<p class="tab30">

  <a href=https://github.com/yaq-project/yaqd-horiba/issues>bugtracker</a> <br>

  <a href=https://github.com/yaq-project/yaqd-horiba/tree/main/example-yaq-configs/horiba-ihr320>example-configs</a> <br>

  <a href=https://www.horiba.com/en_en/products/detail/action/show/Product/ihr-series-1590/>manufacturer</a> <br>

  <a href=https://github.com/yaq-project/yaqd-horiba>source</a> <br>




<h2 id='installation'>installation<a href='#installation'> ¶</a></h2>
<p>
  The horiba-ihr320 daemon can be installed using the following package managers:
</p>
<p class="tab30">

  <a href=https://pypi.org/project/yaqd-horiba/>PyPI</a> <br>

  <a href=https://anaconda.org/conda-forge/yaqd-horiba/>conda-forge</a> <br>




<h2 id='traits'>traits<a href='#traits'> ¶</a></h2>
<p>
  The horiba-ihr320 daemon is <a href="https://en.wikipedia.org/wiki/Composition_over_inheritance">composed</a> of the following traits:
</p>
<p class="tab30">

  <a href=../../traits/has-limits>has-limits</a>
  <br>

  <a href=../../traits/has-position>has-position</a>
  <br>

  <a href=../../traits/has-turret>has-turret</a>
  <br>

  <a href=../../traits/is-daemon>is-daemon</a>
  <br>

  <a href=../../traits/is-homeable>is-homeable</a>
  <br>

</p>



<h2 id='hardware'>hardware<a href='#hardware'> ¶</a></h2>
<p>
  The horiba-ihr320 daemon has been tested with the following hardware:
</p>
<p class="tab30">

  
  <a href="../../hardware/horiba">horiba</a>/<a href="../../hardware/horiba/ihr320">ihr320</a><br>

</p>





<h2 id='configuration'>configuration<a href='#configuration'> ¶</a></h2>

<p>
  <a href="https://github.com/yaq-project/yaqd-horiba/tree/main/example-yaq-configs/horiba-ihr320">Example configuration files.</a>
</p>


  
    <p class="tab30">
    <b>enable</b> (boolean)
    <i>default: True</i>
    <br>
     Disable this daemon. The kind entry-point will not attempt to start this daemon. <br> 
    
      <i>from <a href='../../traits/is-daemon'>is-daemon</a></i>
    
    
    </p>
    

  
    <p class="tab30">
    <b>gratings</b> ({'type': 'map', 'values': 'horiba_grating'})
    <i>default: {'default': {}}</i>
    <br>
     Map which gives a label to a grating with its lines/mm and index <br> 
    
    
    </p>
    

  
    <p class="tab30">
    <b>limits</b> (array)
    <i>default: [-inf, inf]</i>
    <br>
     Configuration limits are strictly optional. <br> 
    
      <i>from <a href='../../traits/has-limits'>has-limits</a></i>
    
    
    </p>
    

  
    <p class="tab30">
    <b>log_level</b> ({'name': 'level', 'symbols': ['debug', 'info', 'notice', 'warning', 'error', 'critical', 'alert', 'emergency'], 'type': 'enum'})
    <i>default: info</i>
    <br>
     Set daemon log-level. <br> 
    
      <i>from <a href='../../traits/is-daemon'>is-daemon</a></i>
    
    
    </p>
    

  
    <p class="tab30">
    <b>log_to_file</b> (boolean)
    <i>default: False</i>
    <br>
     Optionally force logging to a file. <br> 
    
      <i>from <a href='../../traits/is-daemon'>is-daemon</a></i>
    
    
    </p>
    

  
    <p class="tab30">
    <b>make</b> (['null', 'string'])
    <i>default: Horiba Jobin-Yvon</i>
    <br>
    
    
      <i>from <a href='../../traits/is-daemon'>is-daemon</a></i>
    
    
    </p>
    

  
    <p class="tab30">
    <b>model</b> (['null', 'string'])
    <i>default: IHR320</i>
    <br>
    
    
      <i>from <a href='../../traits/is-daemon'>is-daemon</a></i>
    
    
    </p>
    

  
    <p class="tab30">
    <b>out_of_limits</b> (enum)
    <i>default: closest</i>
    <br>
     Control behavior of daemon when set_position is given a value outside of limits. <br> 
    
      <i>from <a href='../../traits/has-limits'>has-limits</a></i>
    
    
    </p>
    

  
    <p class="tab30">
    <b>port</b> (int)
    
    <br>
     TCP port for daemon to occupy. <br> 
    
      <i>from <a href='../../traits/is-daemon'>is-daemon</a></i>
    
    
    </p>
    

  
    <p class="tab30">
    <b>serial</b> (['null', 'string'])
    <i>default: None</i>
    <br>
     Serial number for the particular device represented by the daemon <br> 
    
      <i>from <a href='../../traits/is-daemon'>is-daemon</a></i>
    
    
    </p>
    




<h2 id='state'>state<a href='#state'> ¶</a></h2>
<p>
  The horiba-ihr320 daemon will provide the following state information:
</p>

  
    <p class="tab30">
    <b>destination</b> (double) <br>
    
    
        <i>from <a href='../../traits/has-position'>has-position</a></i>
    
    </p>
    

  
    <p class="tab30">
    <b>hw_limits</b> (array) <br>
    
    
        <i>from <a href='../../traits/has-limits'>has-limits</a></i>
    
    </p>
    

  
    <p class="tab30">
    <b>mirrors</b> ({'items': 'mirror_setting', 'type': 'array'}) <br>
     Position of the mirror, entrance then exit. <br> 
    
    </p>
    

  
    <p class="tab30">
    <b>mirrors_dest</b> ({'items': 'mirror_setting', 'type': 'array'}) <br>
     Destination of the mirror, entrance, then exit <br> 
    
    </p>
    

  
    <p class="tab30">
    <b>position</b> (double) <br>
    
    
        <i>from <a href='../../traits/has-position'>has-position</a></i>
    
    </p>
    

  
    <p class="tab30">
    <b>slits</b> ({'items': 'float', 'type': 'array'}) <br>
     Width of each slit in mm. order is Front Entrance, Side Entrance, Front Exit, Side Exit <br> 
    
    </p>
    

  
    <p class="tab30">
    <b>slits_dest</b> ({'items': 'float', 'type': 'array'}) <br>
     Destination of each slit in mm. order is Front Entrance, Side Entrance, Front Exit, Side Exit <br> 
    
    </p>
    

  
    <p class="tab30">
    <b>turret</b> (['null', 'string']) <br>
     Current turret index <br> 
    
        <i>from <a href='../../traits/has-turret'>has-turret</a></i>
    
    </p>
    




<h2 id='messages'>messages<a href='#messages'> ¶</a></h2>
<p>
  The horiba-ihr320 daemon will expose the following public messages:
</p>

  
    <p class="tab30">
    <b>busy</b>
     ➜  boolean 
    <br>
     Returns true if daemon is currently busy. <br> 
    
    <i>from <a href='../../traits/is-daemon'>is-daemon</a></i> <br>
    
     </p>
    
    

  
    <p class="tab30">
    <b>get_config</b>
     ➜  string 
    <br>
     Full configuration for the individual daemon as defined in the TOML file.
This includes defaults and shared settings not directly specified in the daemon-specific TOML table.
 <br> 
    
    <i>from <a href='../../traits/is-daemon'>is-daemon</a></i> <br>
    
     </p>
    
    

  
    <p class="tab30">
    <b>get_config_filepath</b>
     ➜  string 
    <br>
     String representing the absolute filepath of the configuration file on the host machine.
 <br> 
    
    <i>from <a href='../../traits/is-daemon'>is-daemon</a></i> <br>
    
     </p>
    
    

  
    <p class="tab30">
    <b>get_destination</b>
     ➜  double 
    <br>
     Get current daemon destination. <br> 
    
    <i>from <a href='../../traits/has-position'>has-position</a></i> <br>
    
     </p>
    
    

  
    <p class="tab30">
    <b>get_entrance_mirror</b>
     ➜  mirror_setting 
    <br>
    
    
     </p>
    
    

  
    <p class="tab30">
    <b>get_exit_mirror</b>
     ➜  mirror_setting 
    <br>
    
    
     </p>
    
    

  
    <p class="tab30">
    <b>get_front_entrance_slit</b>
     ➜  double 
    <br>
    
    
     </p>
    
    

  
    <p class="tab30">
    <b>get_front_exit_slit</b>
     ➜  double 
    <br>
    
    
     </p>
    
    

  
    <p class="tab30">
    <b>get_limits</b>
     ➜  {'items': 'double', 'type': 'array'} 
    <br>
     Get daemon limits.Limits will be the <a href='https://en.wikipedia.org/wiki/Intersection_(set_theory)'>intersection</a> of config limits and driver limits (when appliciable). <br> 
    
    <i>from <a href='../../traits/has-limits'>has-limits</a></i> <br>
    
     </p>
    
    

  
    <p class="tab30">
    <b>get_position</b>
     ➜  double 
    <br>
     Get current daemon position. <br> 
    
    <i>from <a href='../../traits/has-position'>has-position</a></i> <br>
    
     </p>
    
    

  
    <p class="tab30">
    <b>get_side_entrance_slit</b>
     ➜  double 
    <br>
    
    
     </p>
    
    

  
    <p class="tab30">
    <b>get_side_exit_slit</b>
     ➜  double 
    <br>
    
    
     </p>
    
    

  
    <p class="tab30">
    <b>get_slit_limits</b>
     ➜  {'items': 'double', 'type': 'array'} 
    <br>
    
    
     </p>
    
    

  
    <p class="tab30">
    <b>get_slit_units</b>
     ➜  string 
    <br>
    
    
     </p>
    
    

  
    <p class="tab30">
    <b>get_state</b>
     ➜  string 
    <br>
     Get version of the running daemon <br> 
    
    <i>from <a href='../../traits/is-daemon'>is-daemon</a></i> <br>
    
     </p>
    
    

  
    <p class="tab30">
    <b>get_turret</b>
     ➜  ['null', 'string'] 
    <br>
     Get current turret identifier. <br> 
    
    <i>from <a href='../../traits/has-turret'>has-turret</a></i> <br>
    
     </p>
    
    

  
    <p class="tab30">
    <b>get_turret_options</b>
     ➜  {'items': ['null', 'string'], 'type': 'array'} 
    <br>
     Get current turret identifier. <br> 
    
    <i>from <a href='../../traits/has-turret'>has-turret</a></i> <br>
    
     </p>
    
    

  
    <p class="tab30">
    <b>get_units</b>
     ➜  ['null', 'string'] 
    <br>
     Get units of daemon. These units apply to the position and destination properties. <br> 
    
    <i>from <a href='../../traits/has-position'>has-position</a></i> <br>
    
     </p>
    
    

  
    <p class="tab30">
    <b>home</b>
     ➜  null 
    <br>
     Initiates the homing procedure.
The daemon will report as busy during the homing procedure.
 After the homing procedure is complete, the daemon will return to the current destination.
 <br> 
    
    <i>from <a href='../../traits/is-homeable'>is-homeable</a></i> <br>
    
     </p>
    
    

  
    <p class="tab30">
    <b>id</b>
     ➜  {'type': 'map', 'values': ['null', 'string']} 
    <br>
     JSON object with information to identify the daemon, including name, kind, make, model, serial.
 <br> 
    
    <i>from <a href='../../traits/is-daemon'>is-daemon</a></i> <br>
    
     </p>
    
    

  
    <p class="tab30">
    <b>in_limits</b>
     ➜  boolean 
    <br>
     Check if a given position is within daemon limits. <br> 
    
    <i>from <a href='../../traits/has-limits'>has-limits</a></i> <br>
    
    
    parameters: <br>
    </p>
    
    <p class="tab60">
        <b>position</b> (double)
        
        <br>
        
    </p>
    
    
    

  
    <p class="tab30">
    <b>set_entrance_mirror</b>
     ➜  null 
    <br>
    
    
    
    parameters: <br>
    </p>
    
    <p class="tab60">
        <b>side</b> (mirror_setting)
        
        <br>
        
    </p>
    
    
    

  
    <p class="tab30">
    <b>set_exit_mirror</b>
     ➜  null 
    <br>
    
    
    
    parameters: <br>
    </p>
    
    <p class="tab60">
        <b>side</b> (mirror_setting)
        
        <br>
        
    </p>
    
    
    

  
    <p class="tab30">
    <b>set_front_entrance_slit</b>
     ➜  null 
    <br>
    
    
    
    parameters: <br>
    </p>
    
    <p class="tab60">
        <b>width</b> (double)
        
        <br>
         width in mm <br> 
    </p>
    
    
    

  
    <p class="tab30">
    <b>set_front_exit_slit</b>
     ➜  null 
    <br>
    
    
    
    parameters: <br>
    </p>
    
    <p class="tab60">
        <b>width</b> (double)
        
        <br>
         width in mm <br> 
    </p>
    
    
    

  
    <p class="tab30">
    <b>set_position</b>
     ➜  null 
    <br>
     Give the daemon a new destination, and begin motion towards that destination. <br> 
    
    <i>from <a href='../../traits/has-position'>has-position</a></i> <br>
    
    
    parameters: <br>
    </p>
    
    <p class="tab60">
        <b>position</b> (double)
        
        <br>
        
    </p>
    
    
    

  
    <p class="tab30">
    <b>set_relative</b>
     ➜  double 
    <br>
     Give the daemon a new destination relative to its current position. Daemon will immediately begin motion towards new destination. Returns new destination. <br> 
    
    <i>from <a href='../../traits/has-position'>has-position</a></i> <br>
    
    
    parameters: <br>
    </p>
    
    <p class="tab60">
        <b>distance</b> (double)
        
        <br>
        
    </p>
    
    
    

  
    <p class="tab30">
    <b>set_side_entrance_slit</b>
     ➜  null 
    <br>
    
    
    
    parameters: <br>
    </p>
    
    <p class="tab60">
        <b>width</b> (double)
        
        <br>
         width in mm <br> 
    </p>
    
    
    

  
    <p class="tab30">
    <b>set_side_exit_slit</b>
     ➜  null 
    <br>
    
    
    
    parameters: <br>
    </p>
    
    <p class="tab60">
        <b>width</b> (double)
        
        <br>
         width in mm <br> 
    </p>
    
    
    

  
    <p class="tab30">
    <b>set_turret</b>
     ➜  null 
    <br>
     Set the turret to a given identifier. <br> 
    
    <i>from <a href='../../traits/has-turret'>has-turret</a></i> <br>
    
    
    parameters: <br>
    </p>
    
    <p class="tab60">
        <b>turret</b> (string)
        
        <br>
        
    </p>
    
    
    

  
    <p class="tab30">
    <b>shutdown</b>
     ➜  null 
    <br>
     Cleanly shutdown (or restart) daemon. <br> 
    
    <i>from <a href='../../traits/is-daemon'>is-daemon</a></i> <br>
    
    
    parameters: <br>
    </p>
    
    <p class="tab60">
        <b>restart</b> (boolean)
        <i>default: False</i>
        <br>
        
    </p>
    
    
    




<h2 id='types'>types<a href='#types'> ¶</a></h2>
<p>
  The horiba-ihr320 daemon uses the following avro types:
</p>

  
    <p class="tab30">
    <b>mirror_setting</b> (enum) <br>
    
    
     symbols: ['front', 'side'] <br> 
    
    
    </p>
    

  
    <p class="tab30">
    <b>horiba_grating</b> (record) <br>
    
    
    
    
    fields: <br>
        
        <p class="tab60">
        <b>index</b> (int)
        <i>default: 0</i>
        <br>
        
        </p>
        
        <p class="tab60">
        <b>lines_per_mm</b> (float)
        <i>default: 1200.0</i>
        <br>
        
        </p>
        
    
    
    </p>
    



<hr>

<p>
built 2023-06-19 16:35:46
                                    
<a href="https://creativecommons.org/publicdomain/zero/1.0/">CC0</a>: no copyright
</p>

</body>
</html>